---
title: "Lab 03 - Nobel laureates"
author: "Eric Stone"
date: "1.16.24"
output: github_document
---

### Load packages and data

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
nobel <- read_csv("data/nobel.csv")
```

## Exercises

### Exercise 1

```{r exercise-1}
number_of_rows <- nrow(nobel)
number_of_columns <- ncol(nobel)
print(paste("Number of rows:", number_of_rows))
print(paste("Number of columns:", number_of_columns))
```

How many observations and how many variables are in the dataset? Use inline code to answer this question. What does each row represent?

There are 935 observations and 26 variables.  Note that I could also just see this in the environment, but this code produced the information as well.


### Exercise 2

```{r exercise-2}
# making sure the simplest command works
nobel %>%
  count (country)
# seeing if I am filtering for na appropriately
nobel_subset <- nobel %>%
  filter(!is.na(country))
nobel_subset %>%
  count (country)
# now filtering for people
nobel %>%
  count (gender)
nobel_subset2 <- nobel %>%
  filter(gender != "org")
nobel_subset2 %>%
  count (gender)
# now filtering for alive people
nobel_subset3 <- nobel %>%
  filter(!is.na(died_date))
nobel_subset3 %>%
  count (died_date)
# now putting it all together
nobel_living <- nobel %>%
  filter (
    !is.na(country),
    gender != "org" ,
    !is.na(died_date)
  )
number_of_rows <- nrow(nobel_living)
number_of_columns <- ncol(nobel_living)
print(paste("Number of rows:", number_of_rows))
print(paste("Number of columns:", number_of_columns))
# I have 453 observations, so something is wrong.
nobel_living %>%
  count (country)
nobel_living %>%
  count (gender)
nobel_living %>%
  count (died_date)
```

Create a new data frame called nobel_living that filters for

   laureates for whom country is available
   laureates who are people as opposed to organizations (organizations are  denoted with "org" as their gender)
   laureates who are still alive (their died_date is NA)

Confirm that once you have filtered for these characteristics you are left with a data frame with 228 observations, once again using inline code.

Hmm.  I have 453 observations. :(

However ... when I check, I have no na's for country, no org in gender, and no na's for died_date.  I've also looked through the data set, and that confirms the above.  I think my 453 is correct, but I realize I may be wrong!

### Exercise 3


```{r exercise-3}
# creating nobel_living_science with the variable depicting US yes/no
nobel_living_science <- nobel_living %>%
  filter(category %in% c("Physics", "Medicine", "Chemistry", "Economics"))
nobel_living_science <- nobel_living_science %>%
  mutate(
    country_us = if_else(country == "USA", "USA", "Other")
  )
nobel_living_science %>%
  count (country_us)
# simple bar chart, ignoring category .
ggplot(data = nobel_living_science, mapping = aes(x = country_us)) +
  geom_bar()
ggplot(nobel_living_science, aes (x = country_us)) +
  geom_bar()
#faceting by category .
ggplot(nobel_living_science, aes (x = country_us)) +
  geom_bar() +
  facet_grid (~ category)
# and now switching axes .
ggplot(nobel_living_science, aes (x = country_us)) +
  geom_bar() +
  facet_grid (~ category) +
  coord_flip()
```

Create a faceted bar plot visualizing the relationship between the category of prize and whether the laureate was in the US when they won the nobel prize. Interpret your visualization, and say a few words about whether the Buzzfeed headline is supported by the data.

These data aren't all that relevant to the Buzzfeed claim, because they don't delve into where the person was born. With that said, it is interesting that there seems to be some variation with discipline. In chemistry, there is a smaller percentage of winners who live in the US.


### Exercise 4


```{r exercise-4}
#exercise 4
```

### Exercise 5


```{r exercise-5}
#exercise 5
```

### Exercise 6


```{r exercise-6}
#exercise 6
```
